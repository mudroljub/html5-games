<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <style>
        body {
            margin: 0px;
            padding: 0px;
        }
    </style>
</head>
<body>
<canvas id="platno"></canvas>
<script>

    var platno = document.getElementById('platno');
    platno.height = window.innerHeight;
    platno.width = window.innerWidth;
    var sadrzaj = platno.getContext('2d');

    var slike = {
        pozadina: 'slike/skupstina.png',
        vulin: 'slike/vulin.png',
        politicar: 'slike/politicar.png'
    }

    // problem


    // prosledjuje niz ova_slika i poziva povratnu funkciju (iscrtava) kada se sve ucitaju
    ucitajSlike(slike, function(slike) {
        var nova_visina_pozadine = (window.innerWidth / pozadina.width) * pozadina.height
        sadrzaj.drawImage(pozadina, 0, 0, window.innerWidth, nova_visina_pozadine);      //
        sadrzaj.drawImage(politicar, 100, 30, 200, 137);
        sadrzaj.drawImage(vulin, 350, 55, 93, 104);
    });


    function ucitajSlike(slike, callback) {
        var brojSlika = Object.keys(slike).length;
        var ucitaneSlike = 0;

        for(var ova_slika in slike) {

            // pravi globalnu varijablu sa nazivom slike !
            window[ova_slika] = new Image();

            // kada ucita ovu sliku, ako su ostale ucitane, poziva povratnu funkciju
            window[ova_slika].onload = function() {
                ucitaneSlike++;
                if(ucitaneSlike >= brojSlika) {
                    callback(window);
                }
            };
            // daje izvor slici
            window[ova_slika].src = slike[ova_slika];
        }
    }


    // redosled crtanja je bitan, idu jedna preko druge !

</script>
</body>
</html>